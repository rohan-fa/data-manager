<h1>Imported Data</h1>

<%= form_tag(people_index_path, method: :get, class: "mb-3") do %>
  <div class="form-group">
    <%= text_field_tag :search, params[:search], placeholder: 'Search', class: 'form-control' %>
  </div>
  <%= submit_tag 'Search', class: 'btn btn-primary' %>
<% end %>

<table class="table table-dark table-hover">
  <thead>
    <tr>
      <th><%= link_to 'First Name', { sort_column: 'first_name', sort_direction: 'asc' } %></th>
      <th><%= link_to 'Last Name', { sort_column: 'last_name', sort_direction: 'asc' } %></th>
      <th>Weapon</th>
      <th>Gender</th>
      <th>Species</th>
      <th>Vehicle</th>
      <th>Locations</th>
      <th>Affiliations</th>
    </tr>
  </thead>
  <tbody>
    <% @people.each do |person| %>
      <tr>
        <td><%= person.first_name %></td>
        <td><%= person.last_name %></td>
        <td><%= person.weapon %></td>
        <td><%= person.gender %></td>
        <td><%= person.species %></td>
        <td><%= person.vehicle %></td>
        <td><%= person.locations.pluck(:name).join(', ') %></td>
        <td><%= person.affiliations.pluck(:name).join(', ') %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= will_paginate @people %>
